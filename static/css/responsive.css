/* ========== Safe global defaults (do not change desktop layout) ========== */
html { box-sizing: border-box; -webkit-text-size-adjust: 100%; }
*, *::before, *::after { box-sizing: inherit; }
img, video, canvas, svg { max-width: 100%; height: auto; display: block; }
html, body { margin: 0; overflow-x: hidden; }

/* Optional container helper if you use it anywhere */
.container { max-width: 1200px; margin: 0 auto; padding: 0 16px; }

/* ========== MOBILE ONLY (≤700px) — keep desktop unchanged ========== */
@media (max-width: 700px) {

  /* ---- Navbar: grow and stack links, no overlap ---- */
  .navbar .container {
    height: auto !important;
    padding: 8px 16px !important;
    align-items: flex-start !important;
    gap: 8px !important;
    flex-wrap: wrap !important;
  }

  .nav-links {
    display: flex !important;
    flex-direction: column !important;
    align-items: flex-end !important;
    gap: 10px !important;
    margin: 0 !important;
    padding: 0 !important;
    list-style: none !important;
  }
  .nav-links a { display: block !important; padding: 8px 0 !important; }

  .nav-links, .navbar ul { position: static !important; float: none !important; }

  /* ---- Homepage feature cards: single column, centered ---- */
  .feature-columns, .features-row {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 16px !important;
    justify-items: center !important;
  }
  .feature-columns > *, .features-row > * {
    max-width: 340px;
    width: 100%;
    height: auto !important;
    white-space: normal !important;
  }

  /* ---- Marketplace header buttons: stack, no overlap with title/cards ---- */
  .marketplace .header-actions,
  #marketplace .header-actions,
  .marketplace-page .header-actions,
  [data-page="marketplace"] .header-actions,
  .marketplace .btn-group,        #marketplace .btn-group,
  .marketplace .cta-group,        #marketplace .cta-group,
  .marketplace .button-row,       #marketplace .button-row {
    position: static !important;
    float: none !important;
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 12px !important;
    justify-content: flex-start !important;
    margin-top: 8px !important;
  }
  .marketplace .header-actions > *,
  #marketplace .header-actions > *,
  .marketplace .btn-group > *,    #marketplace .btn-group > *,
  .marketplace .cta-group > *,    #marketplace .cta-group > *,
  .marketplace .button-row > *,   #marketplace .button-row > * {
    width: 100% !important;
  }

  /* ---- Marketplace cards: single column on phones ---- */
  .marketplace .card-grid,  #marketplace .card-grid,
  .marketplace .tools-grid, #marketplace .tools-grid,
  .marketplace .agents-grid,#marketplace .agents-grid,
  .card-grid, .tools-grid, .agents-grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }
} /* ← CLOSE the 700px block */

/* ===== Marketplace (portrait): make header CTAs wrap & fit (≤680px) ===== */
@media (max-width: 680px) {
  /* 1) Keep title static */
  .marketplace h1,
  .marketplace h1 ~ * { position: static !important; }

  /* 2) First sibling after H1 becomes a wrapping row */
  .marketplace h1 ~ div {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 12px !important;
    justify-content: flex-start !important;
    margin-top: 8px !important;
    width: 100% !important;
  }

  /* 3) Buttons/links flex so they wrap nicely */
  .marketplace h1 ~ div > a,
  .marketplace h1 ~ div > button {
    flex: 1 1 240px !important;
    max-width: 100% !important;
  }

  /* 4) Safety nets for "actions/cta/header" containers */
  .marketplace [class*="action"],
  .marketplace [class*="cta"],
  .marketplace [class*="header"] > div {
    position: static !important;
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 12px !important;
    width: 100% !important;
  }
  .marketplace [class*="action"] > a,
  .marketplace [class*="action"] > button,
  .marketplace [class*="cta"] > a,
  .marketplace [class*="cta"] > button {
    flex: 1 1 240px !important;
    max-width: 100% !important;
  }

  /* 5) Ensure grid stays below header */
  .marketplace .card-grid,
  .marketplace .tools-grid,
  .marketplace .agents-grid {
    margin-top: 12px !important;
    grid-template-columns: 1fr !important;
  }
}

/* ---- Marketplace header buttons: make them wrap on phones ---- */
@media (max-width: 700px) {
  /* stop clipping & absolute layouts */
  body, .marketplace, .marketplace * { overflow-x: visible !important; }
  .marketplace .header-actions,
  .marketplace [class*="header"] > div,
  .marketplace h1 ~ div {
    position: static !important;
    float: none !important;
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 12px !important;
    justify-content: flex-start !important;
    width: 100% !important;
    margin-top: 8px !important;
    padding-left: max(16px, env(safe-area-inset-left));
    padding-right: max(16px, env(safe-area-inset-right));
  }

  /* each button becomes full-width on portrait */
  .marketplace .header-actions > a,
  .marketplace .header-actions > button,
  .marketplace h1 ~ div > a,
  .marketplace h1 ~ div > button {
    flex: 1 1 100% !important;
    max-width: 100% !important;
  }

  /* ensure the grid starts below the header */
  .marketplace .card-grid,
  .marketplace .tools-grid,
  .marketplace .agents-grid {
    margin-top: 12px !important;
    grid-template-columns: 1fr !important;
  }
}

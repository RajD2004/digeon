<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Digeon AI - Newsletter</title>
  <link rel="icon" href="/static/images/icon.png" type="image/png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* ===== Global Dark Theme (no behavior changes) ===== */
body{margin:0;font-family:'Inter',Arial,sans-serif;background:linear-gradient(135deg,#0d1117,#161b22);color:#f5f5f5;overflow-x:hidden}
a{color:#00d1c4;text-decoration:none} a:hover{text-decoration:underline}
.container{max-width:1200px;margin:0 auto;padding:0 24px}

/* ===== Navbar (keep your Flask paths) ===== */
.navbar{background:rgba(13,17,23,.85);backdrop-filter:blur(10px);position:sticky;top:0;z-index:100;box-shadow:0 4px 20px rgba(0,0,0,.4);animation:fadeDown .6s ease forwards}
.navbar .container{display:flex;justify-content:space-between;align-items:center;height:60px}
.logo img{height:44px;border-radius:6px;display:block}
.nav-links{list-style:none;display:flex;gap:28px;margin:0;padding:0}
.nav-links a{font-weight:600;font-size:1rem;padding-bottom:4px;border-bottom:2px solid transparent;transition:color .2s,border-bottom .2s;color:#f0f0f0}
.nav-links a:hover{color:#00d1c4;border-bottom-color:#00d1c4}

/* (Optional) top-right search, if you add it later */
#site-search{display:flex;align-items:center}
#search-input{padding:7px 12px;border-radius:5px 0 0 5px;border:none;outline:none;font-size:1rem}
#site-search button{padding:7px 14px;border:none;background:#00d1c4;color:#fff;border-radius:0 5px 5px 0;cursor:pointer;font-weight:bold}

/* ===== Layout ===== */
.newsletter-main{display:flex;flex-wrap:wrap;gap:30px;max-width:1200px;margin:50px auto;animation:fadeUp .8s ease forwards}
.newsletter-left,.newsletter-right{flex:1 1 500px;border-radius:12px;padding:30px;background:rgba(255,255,255,.05);backdrop-filter:blur(8px);box-shadow:0 4px 30px rgba(0,0,0,.3)}
.newsletter-left h1{font-size:2.2rem;margin:0 0 20px;color:#fff}
.newsletter-left h3{margin:25px 0 10px;font-size:1.4rem;color:#00d1c4}
.newsletter-left ul{padding-left:20px}
.newsletter-left li{margin-bottom:10px;line-height:1.5}

/* ===== Right column (form) ===== */
.newsletter-form-desc{font-size:1.2rem;margin-bottom:20px;line-height:1.4;color:#e6e6e6}
.newsletter-form{display:flex;flex-direction:column;gap:15px}
.newsletter-form-row{display:flex;gap:30px;flex-wrap:wrap}
.newsletter-form label{font-weight:600;margin-bottom:5px;display:block}
.newsletter-form input[type="text"],.newsletter-form input[type="email"]{padding:12px;border-radius:6px;border:none;outline:none;font-size:1rem;width:100%;background:#1a1f27;color:#f5f5f5}
.newsletter-form input:focus{box-shadow:0 0 0 2px #00d1c4}
.newsletter-form-categories{display:flex;flex-wrap:wrap;gap:12px 20px}
.newsletter-form input[type="checkbox"]{accent-color:#00d1c4}
.newsletter-form button{background:#00d1c4;border:none;color:#fff;font-weight:bold;padding:12px 28px;border-radius:8px;cursor:pointer;transition:background .2s}
.newsletter-form button:hover{background:#00a79e}
.newsletter-success{display:none;background:rgba(0,209,196,.1);padding:15px;border-radius:8px;color:#00d1c4;text-align:center;margin-top:15px}

/* ===== Login/Access banner (keep your existing logic) ===== */
.directory-access-banner{background:#fff3cd;color:#000;border:1.5px solid #ffe599;border-radius:9px;padding:17px 34px;margin:22px auto 0;max-width:700px;font-size:1.05rem;text-align:center;display:none}
.directory-access-banner .banner-action{margin-left:13px;background:#00d1c4;color:#fff;border:none;border-radius:6px;padding:7px 18px;font-weight:700;cursor:pointer;text-decoration:none}
.directory-access-banner .banner-action:hover{background:#00a79e}

/* ===== Footer (fixed to match index) ===== */
.footer-row {
  text-align: center;
  margin-top: 40px;
  border-top: 1px solid #2a2d33;
  padding-top: 20px;
}
.footer-social-bar {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 30px;
  margin-top: 26px;
  margin-bottom: 8px;
}
.footer-social-bar img,
.footer-social-bar svg {
  width: 28px;
  height: 28px;
  opacity: 0.88;
  vertical-align: middle;
  transition: opacity 0.22s ease, transform 0.22s ease, filter 0.22s ease;
  filter: none;
}
.footer-social-bar img:hover,
.footer-social-bar svg:hover {
  opacity: 1;
  transform: translateY(-3px) scale(1.1);
  filter: drop-shadow(0 0 4px #19b6ad);
}

/* ===== Reveal helpers ===== */
.animate{opacity:0;transform:translateY(12px);transition:opacity .6s ease,transform .6s ease}
.animate.visible{opacity:1;transform:translateY(0)}
@keyframes fadeDown{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* ===== Responsive ===== */
@media(max-width:1100px){.navbar .container{flex-direction:column;height:auto;padding:10px 3vw;gap:12px}}
@media(max-width:650px){
  .nav-links{gap:10px;font-size:.95rem}
  .newsletter-main{margin:22px auto}
  .newsletter-left,.newsletter-right{padding:18px}
  .newsletter-form-row{flex-direction:column;gap:12px}
  .newsletter-left h1{font-size:1.6rem}
  .footer-social-bar { gap: 18px; margin-top: 17px; margin-bottom: 4px; }
}
</style>
<link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}?v=6">

</head>
<body>
  <header>
    <nav class="navbar">
      <div class="container">
        <!-- NAVBAR HTML EXACTLY MATCHING index.html -->
        <a href="{{ url_for('home') }}" class="logo" style="padding:0;">
          <img
            src="{{ url_for('static', filename='images/logo.png') }}"
            alt="Digeon.ai logo"
            style="height:44px;width:auto;vertical-align:middle;border-radius:6px;"
          />
        </a>
        <ul class="nav-links">
          <li><a href="{{ url_for('subscribe') }}">Newsletter</a></li>
          <li><a href="{{ url_for('directory') }}">Directory</a></li>
          <li><a href="{{ url_for('marketplace') }}">Marketplace</a></li>
          <li><a href="{{ url_for('blog') }}">Blog</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <!-- LOGIN REMINDER BANNER -->
  <div id="directory-access-banner" class="directory-access-banner" style="display:none;">
    <span>Want to access the full AI Directory? <strong> Please subscribe to our newsletter.</strong></span>
    <a class="banner-action" href="subscribe">Subscribe</a>
    <button class="banner-close" onclick="document.getElementById('directory-access-banner').style.display='none';" title="Dismiss" style="margin-left:20px;">&times;</button>
  </div>

  <main>
    <div style="max-width:1200px;margin:18px auto 0;display:flex;justify-content:flex-end;padding:0 24px;"></div>
    <div class="newsletter-main">
      <!-- LEFT SIDE -->
      <section class="newsletter-left animate">
        <h1 class="animate" style="font-size:2.85rem;text-align:left;">
          Stay Informed and Ahead with<br>
          Digeon AI<br>
          Weekly Digest
        </h1>
        <h3>What You'll Get Every Week?</h3>
        <ul>
          <li>Handpicked AI tools and agents to supercharge your workflow</li>
          <li>Exclusive insights into AI Trends in Software Development, Content Creation, Productivity, Marketing, Data Analytics and More</li>
          <li>Tool tutorials, tips, use cases – from automation to visual design</li>
          <li>Pro recommendations you won’t find on generic AI directories</li>
          <li>Early access to tools, marketplaces and platform Updates</li>
        </ul>
        <h3>Why Subscribe?</h3>
        <ul>
          <li>Save hours on AI research – we test and curate tools so you don’t have to</li>
          <li>Be the first to discover powerful, niche AI agents before they trend</li>
          <li>Stay in the loop with Digeon AI product updates and community events</li>
        </ul>
      </section>
      <!-- RIGHT SIDE -->
      <section class="newsletter-right animate">
        <div class="newsletter-form-desc">
          Subscribe to our weekly newsletter for exclusive updates on AI developments, expert insights, and practical tips to keep you informed and ahead in the rapidly changing tech landscape.
        </div>
        <form class="newsletter-form" id="newsletter-form" autocomplete="off">
          <div class="newsletter-form-row">
            <div style="flex:1;">
              <label for="newsletter-name">Name: </label>
              <input type="text" id="newsletter-name" name="newsletter-name" required>
            </div>
            <div style="flex:1;">
              <label for="newsletter-email">Email: </label>
              <input type="email" id="newsletter-email" name="newsletter-email" required>
            </div>
          </div>
          <div style="margin-top:8px;margin-bottom:2px;font-weight:700;font-size:1.14rem;color:#ffff;">Area of Interest: </div>
          <div class="newsletter-form-categories">
            <div class="checkbox-group">
              <!-- Select All Checkbox -->
              <label>
                <input type="checkbox" id="area-select-all"> Select All
              </label>
              {% for category in categories %}
                <label>
                  <input type="checkbox" name="area[]" value="{{ category }}"> {{ category }}
                </label>
              {% endfor %}
            </div>
          </div>
          <button type="submit" id="newsletter-submit">Subscribe</button>
        </form>
        <div id="newsletter-success" class="newsletter-success" style="display:none;">
          Thank you for subscribing! You’ll receive our next issue in your inbox.
        </div>
      </section>
    </div>
  </main>

  <!-- FIXED FOOTER -->
  <footer>
    <div class="container">
      <div class="footer-row">
        <p>&copy; 2025 Digeon AI. All rights reserved.</p>
      </div>
      <div class="footer-social-bar">
        <a href="https://x.com/digeonAI" target="_blank" title="X (Twitter)">
          <img src="https://cdn.simpleicons.org/x/ffffff" alt="X (Twitter)" width="28" height="28" style="vertical-align:middle;" />
        </a>
        <a href="https://www.instagram.com/digeon.ai/" target="_blank" title="Instagram">
          <img src="https://cdn.simpleicons.org/instagram/ffffff" alt="Instagram" width="28" height="28" style="vertical-align:middle;" />
        </a>
        <a href="https://www.linkedin.com/company/digeon-ai/" target="_blank" title="LinkedIn" style="display:inline-block;">
          <svg xmlns="http://www.w3.org/2000/svg" role="img" width="28" height="28" viewBox="0 0 24 24" fill="#ffffff" style="vertical-align:middle;">
            <title>LinkedIn</title>
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.026-3.037-1.849-3.037-1.853 0-2.136 
            1.445-2.136 2.939v5.667H9.354V9h3.414v1.561h.049c.476-.899 
            1.637-1.849 3.37-1.849 3.601 0 4.268 2.37 
            4.268 5.455v6.285zm-16.356-11.41c-1.144 
            0-2.067-.926-2.067-2.065 0-1.138.923-2.065 
            2.067-2.065 1.143 0 2.066.927 
            2.066 2.065 0 1.139-.923 2.065-2.066 
            2.065zm1.778 11.41H2.313V9h3.556v11.452zM22.225 
            0H1.771C.792 0 0 .771 0 
            1.723v20.549C0 23.229.792 24 1.771 
            24h20.451C23.2 24 24 23.229 24 
            22.271V1.723C24 .771 23.2 0 22.222 
            0z"/>
          </svg>
        </a>
        <a href="mailto:Digeon.technologies@gmail.com" title="Email Digeon">
          <img src="https://cdn.simpleicons.org/gmail/ffffff" alt="Gmail" width="28" height="28" style="vertical-align:middle;" />
        </a>
      </div>
    </div>

    <!-- externalized page-specific JS -->
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
  </footer>
    
  <!-- scripts unchanged ... -->
  <script>
    // Show/hide persistent login banner if user is not logged in
    window.addEventListener('DOMContentLoaded', function() {
      if (!localStorage.getItem('marketplaceUser')) {
        document.getElementById('directory-access-banner').style.display = "flex";
      }
    });

    // Newsletter subscription confirmation logic
    document.getElementById('newsletter-form').onsubmit = async function(e) {
      e.preventDefault();

      const name = document.getElementById('newsletter-name').value.trim();
      const email = document.getElementById('newsletter-email').value.trim();
      const checkboxes = document.querySelectorAll('input[name="area[]"]:checked');
      const categories = Array.from(checkboxes).map(cb => cb.value);

      const btn = document.getElementById('newsletter-submit');
      btn.disabled = true;
      btn.textContent = "Subscribing...";

      const res = await fetch("/api/subscribe", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, email, categories })
      });

      const result = await res.json();
      if (result.status === 1) {
        document.getElementById('newsletter-form').style.display = "none";
        document.getElementById('newsletter-success').style.display = "block";
      } else {
        alert("Subscription failed: " + (result.error || "unknown error"));
        btn.disabled = false;
        btn.textContent = "Subscribe";
      }

      const params = new URLSearchParams(window.location.search);
      if (params.get("next") === "/directory") {
        window.location.href = "/directory";
        return;
      }
    };

    // Two-way Select All logic
    document.addEventListener('DOMContentLoaded', function() {
      const selectAll = document.getElementById('area-select-all');
      const checkboxes = document.querySelectorAll('input[name="area[]"]');

      function updateSelectAllState() {
        const total = checkboxes.length;
        const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
        if (checkedCount === total) {
          selectAll.checked = true;
          selectAll.indeterminate = false;
        } else if (checkedCount === 0) {
          selectAll.checked = false;
          selectAll.indeterminate = false;
        } else {
          selectAll.checked = false;
          selectAll.indeterminate = true;
        }
      }

      selectAll.addEventListener('change', function() {
        checkboxes.forEach(cb => cb.checked = selectAll.checked);
      });

      checkboxes.forEach(cb => cb.addEventListener('change', updateSelectAllState));

      // Initialize state on load
      updateSelectAllState();
    });
  </script>

  <script>
  document.addEventListener('DOMContentLoaded',function(){
    const obs=new IntersectionObserver((entries)=>{
      entries.forEach((e,i)=>{ if(e.isIntersecting){ setTimeout(()=>e.target.classList.add('visible'), i*120); }});
    },{threshold:.15});
    document.querySelectorAll('.animate').forEach(el=>obs.observe(el));
  });
  </script>

</body>
</html>

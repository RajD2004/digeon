<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="robots" content="noindex,nofollow" />
  <title>Admin Dashboard</title>

  <!-- External CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/admin-dashboard.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}?v=6">
</head>
<body>
  <div class="container">
    <h1>Admin Dashboard</h1>

    <div class="grid">
      <!-- NEWSLETTER -->
      <div class="card">
        <h2>Create / Edit Newsletter</h2>
        <div class="body">
          <div>
            <label for="nlSubject">Subject *</label>
            <input id="nlSubject" type="text" maxlength="120" placeholder="e.g., 7 AI tools that save 5+ hours/week" />
          </div>

          <div style="margin-top:10px">
            <label for="nlContent">Body *</label>
            <textarea id="nlContent" placeholder="Write your post here. Use {{name}} to personalize the greeting."></textarea>
          </div>

          <div class="row" style="align-items:center;margin-top:8px">
            <button class="btn btn-outline" id="nlInsertName" type="button">Insert {{name}}</button>
            <span class="help">Click to insert the {{name}} token where your cursor is.</span>
          </div>

          <fieldset style="margin-top:12px">
            <legend>Area of Interest</legend>
            <div id="nlCatGrid" class="cat-grid"></div>
          </fieldset>

          <div class="actions">
            <button class="btn btn-outline" id="nlClearBtn" type="button">Clear</button>
            <button class="btn" id="nlSaveDraftBtn" type="button">Save Draft</button>
            <button class="btn" id="nlPublishBtn" type="button">Publish</button>
          </div>

          <!-- Preview -->
          <div class="preview">
            <div class="head">
              <strong>Live Preview</strong>
              <span id="pvStatus" class="help">Draft not saved</span>
            </div>
            <div class="body">
              <p id="pvSubject" style="margin:0 0 6px;font-weight:800">[Subject will appear here]</p>
              <p id="pvGreet" style="margin:0 0 10px;color:#cfe0f2">Hi there,</p>
              <p id="pvContent" style="white-space:pre-wrap;margin:0;color:#e6edf3">Start writing your post body to see a preview…</p>
              <div id="pvTags" class="tags" style="margin-top:10px"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- BLOG -->
      <div class="card">
        <h2>Write Blog</h2>
        <div class="body">
          <div>
            <label for="blTitle">Title *</label>
            <input id="blTitle" type="text" maxlength="120" placeholder="Post title" />
          </div>

          <div style="margin-top:10px">
            <label for="blContent">Content *</label>
            <textarea id="blContent" placeholder="Write your blog post…"></textarea>
          </div>

          <div style="margin-top:10px">
            <label for="blImage">Image (optional)</label>
            <input id="blImage" type="file" accept="image/*" />
            <div class="help">If provided, it will be uploaded with the post.</div>
          </div>

          <div class="actions">
            <button class="btn" id="blPublishBtn" type="button">Publish Blog</button>
          </div>
        </div>
      </div>
    </div>

    <!-- BLOG LIST -->
    <div class="card" style="margin-top:18px">
      <h2>All Blogs</h2>
      <div class="body table-wrap">
        <table>
          <thead>
            <tr><th>Title</th><th>Excerpt</th><th>Created</th></tr>
          </thead>
          <tbody id="blTbody"></tbody>
        </table>
        <div id="blEmpty" class="help" style="display:none;margin-top:8px">No blog posts yet.</div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <!-- External JS -->
  <script src="{{ url_for('static', filename='js/admin-dashboard.js') }}"></script>
</body>
</html>

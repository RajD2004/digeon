<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Digeon AI – Register Agent</title>
  <link rel="icon" href="/static/images/icon.png" type="image/png">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/agent-register.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}?v=6">
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="container">
        <a href="/" class="logo"><img src="/static/images/logo.png" alt="Digeon.ai logo"></a>
        <ul class="nav-links">
          <li><a href="newsletter">Newsletter</a></li>
          <li><a href="directory">Directory</a></li>
          <li><a href="marketplace">Marketplace</a></li>
          <li><a href="blog">Blog</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <main class="main-dev-container" id="main-dev-container">
    <main class="container mx-auto px-4 py-8">

<details class="mb-4">
  <summary class="cursor-pointer font-semibold text-blue-700">
    ℹ️ Agent Regsitration Guide
  </summary>
  <div class="mt-2 text-gray-600 leading-relaxed">
    <p>
      Use this form to add your custom agent to the Digeon AI platform. 
      Each section has a specific purpose:
    </p>

    <ul class="list-disc list-inside mt-2 space-y-2">
      <li>
        <strong>Agent Name:</strong> A clear, recognizable name for your agent 
        (e.g., <em>VoiceGen Pro</em>). This will be visible to users in the Directory and Marketplace.
      </li>
      <li>
        <strong>Description:</strong> A short overview of what your agent does, 
        its main features, or the problem it solves. 
        Keep it concise and engaging.
      </li>
      <li>
        <strong>Agent Type:</strong> Select the category that best describes your agent. 
        This helps users filter and discover it.
      </li>
      <li>
        <strong>Agent Input Fields:</strong> Define what kind of inputs your agent expects.  
        For example, <em>text</em>, <em>file upload</em>, or <em>dropdown choices</em>.  
        Use the <em>+ Add Field</em> button to include multiple inputs.
      </li>
      <li>
        <strong>Price (USD):</strong> Set a price if you want to monetize your agent.  
        Leave it at <code>0.00</code> if you’d like to offer it for free.
      </li>
      <li>
        <strong>Agent API Endpoint:</strong> Provide the full endpoint URL where Digeon AI 
        should send requests (e.g., <code>https://api.example.com/endpoint</code>).  
        Make sure it’s publicly accessible and ready to handle calls.
      </li>
      <li>
        <strong>Live Preview:</strong> The panel on the right updates automatically 
        as you fill in the form. This lets you see exactly how your agent will appear 
        to other users before you submit it.
      </li>
    </ul>

    <p class="mt-3">
      Once you’ve completed all fields, click <em>Submit Agent</em>.  
      Your agent will then be reviewed and made available in the Marketplace 
      for others to use.
    </p>
  </div>
</details>

      <h2>Register Your Agent</h2>
      <div class="dev-form-flex">
        <!-- Left: form -->
        <div class="dev-form-side">
          <form id="agent-form" class="dev-form" autocomplete="off">
            <label for="agent-name">Agent Name</label>
            <input type="text" id="agent-name" required maxlength="32" placeholder="e.g. VoiceGen Pro">

            <label for="agent-desc">Description</label>
            <textarea id="agent-desc" required maxlength="180" placeholder="What does your agent do?"></textarea>

            <label for="agent-type">Agent Type</label>
            <select id="agent-type" required>
              <option value="">Select Type</option>
              <option value="Text">Text</option>
              <option value="Audio">Audio</option>
              <option value="Video">Video</option>
              <option value="Other">Other</option>
            </select>

            <label>Agent Input Fields</label>
            <div class="dynamic-fields" id="dynamic-fields"></div>

            <!-- Template for a field row with label ABOVE the type -->
            <template id="field-row-template">
              <div class="field-row">
                <input type="text" class="field-label-input" placeholder="Field label (e.g., Upload Logo)" maxlength="60" />

                <div class="field-row-bottom">
                  <select class="field-type-select">
                    <option value="Text">Text</option>
                    <option value="Audio">Audio</option>
                    <option value="Video">Video</option>
                    <option value="File">File</option>
                    <option value="Image">Image</option>
                    <option value="Number">Number</option>
                    <option value="Other">Other</option>
                  </select>
                  <button type="button" class="remove-field-btn" title="Remove">&times;</button>
                </div>
              </div>
            </template>

            <button type="button" class="add-field-btn" id="add-field-btn">+ Add Field</button>

            <label for="agent-price">Price (USD)</label>
            <input type="number" id="agent-price" required min="0" step="0.01" placeholder="0.00">

            <label for="agent-api-url">Agent API Endpoint</label>
            <input type="url" id="agent-api-url" required placeholder="https://api.example.com/endpoint">

            <input type="hidden" id="field-config" name="field-config">
            <button type="submit">Submit Agent</button>
          </form>
          <div id="agent-msg" class="auth-msg" style="margin-top:10px;"></div>
        </div>

        <!-- Right: live preview -->
        <div class="preview-side">
          <div class="agent-preview-card">
            <h3 id="prev-name">Agent name</h3>
            <p id="prev-desc">Short description…</p>
            <div class="agent-type" id="prev-type">Type: —</div>
            <div class="agent-price" id="prev-price">$0.00</div>
            <hr style="margin:12px 0;border:none;border-top:1px solid #d3e2ea;">
            <div id="prev-inputs"></div>
          </div>
        </div>
      </div>
    </main>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 Digeon AI. All rights reserved.</p>
    </div>
  </footer>

  <script src="{{ url_for('static', filename='js/agent-register.js') }}"></script>
</body>
</html>

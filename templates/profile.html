<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Profile - Digeon AI</title>
  <link rel="icon" href="/static/images/icon.png" type="image/png">

  <!-- Styles are inlined here, but ideally move to profile.css -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/profile.css') }}">
</head>
<body>
  <header>
    <nav class="navbar">
      <div class="container">
        <a href="index.html" class="logo">
          <img src="logo.png" alt="Digeon AI logo">
        </a>
        <ul class="nav-links">
          <li><a href="newsletter.html">Newsletter</a></li>
          <li><a href="directory.html">Directory</a></li>
          <li><a href="marketplace.html">Marketplace</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li><a href="contact">Contact Us</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <div class="main-container">
    <!-- ==== Profile Header ==== -->
    <div class="profile-header">
      <img src="static/images/default-avatar.png" alt="User Avatar" class="profile-avatar">
      <h2 class="profile-username">@username</h2>
      <p class="profile-bio">This is a user bio. They can describe themselves here.</p>

      <div class="profile-stats">
        <span><strong id="stat-posts">0</strong> Posts</span>
        <span><strong id="stat-followers">0</strong> Followers</span>
        <span><strong id="stat-following">0</strong> Following</span>
        <span><strong id="stat-agents">0</strong> Agents</span>
      </div>

      <div class="profile-actions">
        <button class="btn-edit">Edit Profile</button>
      </div>
    </div>

    <!-- ==== Agents Section ==== -->
    <div class="agents-section">
      <div class="agents-header">
        <h2>My Agents</h2>
        <input type="text" id="agent-search" placeholder="Search agents...">
      </div>

      <div id="agents-grid" class="agents-grid">
        <!-- Agent cards will be injected here by JS -->
      </div>

      <div id="agents-empty" class="agents-empty">
        <p>No agents purchased yet.</p>
        <a href="marketplace.html" class="browse-link">Browse the Marketplace</a>
      </div>
    </div>

    <!-- Logout Button -->
    <button class="profile-logout" onclick="localStorage.removeItem('marketplaceUser'); window.location.href='login.html';">
      Logout
    </button>
  </div>

  <!-- Modal for running agent -->
  <div id="agent-modal" class="modal">
    <div class="modal-content">
      <span id="modal-close" class="modal-close">&times;</span>
      <h3 id="modal-title">Run Agent</h3>
      <p id="modal-description">Provide input for this agent:</p>
      <textarea id="agent-input" rows="4"></textarea>
      <button id="run-agent-btn" class="btn">Run Agent</button>
      <div id="agent-result" class="agents-empty" style="display:none;">
        <h4>Result</h4>
        <pre id="agent-output"></pre>
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>&copy; 2025 Digeon AI. All rights reserved.</p>
    </div>
  </footer>

  <!-- Future JS will handle backend calls -->
  <script src="profile.js"></script>
</body>
</html>
